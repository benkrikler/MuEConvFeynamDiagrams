\documentclass{article}
\usepackage{feynmp}
%\usepackage{feynmf}
\thispagestyle{empty}

\usepackage{ifpdf}
\ifpdf
  \DeclareGraphicsRule{*}{mps}{*}{}
\fi

\makeatletter
\def\endfmffile{%
  \fmfcmd{\p@rcent\space the end.^^J%
          end.^^J%
          endinput;}%
  \if@fmfio
    \immediate\closeout\@outfmf
  \fi
  \IfFileExists{\thefmffile.mp}{\immediate\write18{mpost \thefmffile}}{}
  \let\thefmffile\relax
}
\makeatother

\begin{document}

\begin{fmffile}{meg2}
\begin{fmfgraph*}(84,48) 
\fmfpen{1}
\fmfleft{i1,i2} 
\fmfright{o1,o2}
\fmf{fermion, label=$\mu$,label.side=left}{i2,v1}
\fmf{fermion, label=$e$,label.side=left}{v1,o2}
\fmf{fermion, label=$q$,label.side=right}{i1,v1}
\fmf{fermion, label=$q$,label.side=right}{v1,o1}
\fmfv{decor.shape=circle,decor.size=.05w, fill}{v1}
%\fmflabel{$\mu$}{i1}
\end{fmfgraph*} 
\end{fmffile}

\end{document}
