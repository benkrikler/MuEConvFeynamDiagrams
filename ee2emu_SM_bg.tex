\documentclass{article}
\usepackage{feynmp}
%\usepackage{feynmf}
\thispagestyle{empty}

\usepackage{ifpdf}
\ifpdf
  \DeclareGraphicsRule{*}{mps}{*}{}
\fi

\makeatletter
\def\endfmffile{%
  \fmfcmd{\p@rcent\space the end.^^J%
          end.^^J%
          endinput;}%
  \if@fmfio
    \immediate\closeout\@outfmf
  \fi
  \IfFileExists{\thefmffile.mp}{\immediate\write18{mpost \thefmffile}}{}
  \let\thefmffile\relax
}
\makeatother

\begin{document}

\begin{fmffile}{meg2}
\begin{fmfgraph*}(100,100) 
\fmfpen{1}
\fmfstraight{}
\fmfleftn{i}{4}
\fmfrightn{o}{4}
\fmf{fermion, tension=2.0}{v1,i3} %e+
\fmf{fermion, tension=2.0}{i2,v1} %e-
\fmf{boson, label=$Z$, tension=3.0}{v1,v2} 
\fmf{boson, label=$W^+$,label.side=right,label.dist=0.3,tension=2.0}{v2,v3} 
\fmf{boson, label=$W^-$,label.side=left,label.dist=0.3, tension=2.0}{v2,v4} 
%\fmf{phantom, tension=2.0}{i1,v1}
\fmf{fermion, tension=2.0}{o1,v3} % e+
\fmf{fermion, tension=2.0}{v4,o4} % mu-
\fmffreeze{}
\fmf{fermion, tension=1.0}{v3,o2} % nu_e
\fmf{fermion, tension=1.0}{o3,v4} % nu_mu_bar
%\fmfpolyn{smooth,pull=0.9,phantom,  full, foreground=(0.5,,0.5,,0.5), tension=2.0}{v}{4}
%\fmfv{decor.shape=triagram,decor.size=.15w, d.f=50}{v1}
\fmflabel{$e^-$}{i2}
\fmflabel{$e^+$}{i3}
\fmflabel{$e^+$}{o1}
\fmflabel{$\nu_e$}{o2}
\fmflabel{$\bar{\nu}_\mu$}{o3}
\fmflabel{$\mu^-$}{o4}
\end{fmfgraph*} 
\end{fmffile}

\end{document}
